
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from "recharts";

interface VulnerabilityTrendsChartProps {
  timeRange: "day" | "week" | "month" | "year";
}

export const VulnerabilityTrendsChart = ({ timeRange }: VulnerabilityTrendsChartProps) => {
  // Sample data - in a real app, this would come from an API call
  const data = {
    day: [
      { time: "00:00", critical: 1, high: 3, medium: 6, low: 8 },
      { time: "04:00", critical: 2, high: 2, medium: 5, low: 7 },
      { time: "08:00", critical: 3, high: 4, medium: 8, low: 10 },
      { time: "12:00", critical: 2, high: 5, medium: 6, low: 8 },
      { time: "16:00", critical: 4, high: 3, medium: 7, low: 9 },
      { time: "20:00", critical: 2, high: 2, medium: 5, low: 6 },
    ],
    week: [
      { time: "Mon", critical: 5, high: 10, medium: 15, low: 20 },
      { time: "Tue", critical: 3, high: 8, medium: 14, low: 18 },
      { time: "Wed", critical: 6, high: 12, medium: 18, low: 22 },
      { time: "Thu", critical: 7, high: 14, medium: 20, low: 24 },
      { time: "Fri", critical: 5, high: 11, medium: 16, low: 20 },
      { time: "Sat", critical: 2, high: 5, medium: 10, low: 15 },
      { time: "Sun", critical: 1, high: 4, medium: 8, low: 12 },
    ],
    month: [
      { time: "Week 1", critical: 12, high: 24, medium: 36, low: 48 },
      { time: "Week 2", critical: 15, high: 30, medium: 45, low: 60 },
      { time: "Week 3", critical: 10, high: 20, medium: 30, low: 40 },
      { time: "Week 4", critical: 18, high: 36, medium: 54, low: 72 },
    ],
    year: [
      { time: "Jan", critical: 30, high: 60, medium: 90, low: 120 },
      { time: "Mar", critical: 25, high: 50, medium: 75, low: 100 },
      { time: "May", critical: 35, high: 70, medium: 105, low: 140 },
      { time: "Jul", critical: 40, high: 80, medium: 120, low: 160 },
      { time: "Sep", critical: 45, high: 90, medium: 135, low: 180 },
      { time: "Nov", critical: 35, high: 70, medium: 105, low: 140 },
    ],
  };
  
  return (
    <ResponsiveContainer width="100%" height="100%">
      <LineChart
        data={data[timeRange]}
        margin={{ top: 10, right: 30, left: 0, bottom: 5 }}
      >
        <CartesianGrid strokeDasharray="3 3" stroke="rgba(255,255,255,0.1)" />
        <XAxis 
          dataKey="time" 
          stroke="#999"
          tick={{ fill: '#999', fontSize: 12 }}
        />
        <YAxis 
          stroke="#999" 
          tick={{ fill: '#999', fontSize: 12 }}
        />
        <Tooltip 
          contentStyle={{ 
            background: 'rgba(26, 31, 44, 0.9)', 
            border: '1px solid rgba(15, 160, 206, 0.3)',
            borderRadius: '4px',
            color: '#fff'
          }}
        />
        <Legend />
        <Line type="monotone" dataKey="critical" stroke="#EA384C" strokeWidth={2} dot={{ r: 3 }} activeDot={{ r: 5 }} />
        <Line type="monotone" dataKey="high" stroke="#F97316" strokeWidth={2} dot={{ r: 3 }} activeDot={{ r: 5 }} />
        <Line type="monotone" dataKey="medium" stroke="#8B5CF6" strokeWidth={2} dot={{ r: 3 }} activeDot={{ r: 5 }} />
        <Line type="monotone" dataKey="low" stroke="#10B981" strokeWidth={2} dot={{ r: 3 }} activeDot={{ r: 5 }} />
      </LineChart>
    </ResponsiveContainer>
  );
};
